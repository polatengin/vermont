name: Environment Configuration Test

on: [push]

jobs:
  test-env:
    runs-on: ubuntu-latest
    steps:
      - name: Check GITHUB_TOKEN
        run: |
          if [ -n "$GITHUB_TOKEN" ]; then
            echo "✅ GITHUB_TOKEN is set"
          else
            echo "❌ GITHUB_TOKEN is not set"
          fi
      
      - name: Check CI flag
        run: |
          if [ "$CI" = "true" ]; then
            echo "✅ CI flag is correctly set to: $CI"
          else
            echo "❌ CI flag is not set or incorrect: $CI"
          fi
      
      - name: Check VERMONT_RUNNER flag
        run: |
          if [ "$VERMONT_RUNNER" = "true" ]; then
            echo "✅ VERMONT_RUNNER flag is correctly set to: $VERMONT_RUNNER"
          else
            echo "❌ VERMONT_RUNNER flag is not set or incorrect: $VERMONT_RUNNER"
          fi
      
      - name: Check NODE_ENV
        run: |
          if [ "$NODE_ENV" = "production" ]; then
            echo "✅ NODE_ENV is correctly set to: $NODE_ENV"
          else
            echo "❌ NODE_ENV is not set or incorrect: $NODE_ENV"
          fi
      
      - name: Show all environment variables
        run: |
          echo "=== All Environment Variables ==="
          env | grep -E "(GITHUB_TOKEN|CI|VERMONT_RUNNER|NODE_ENV)" | sort
